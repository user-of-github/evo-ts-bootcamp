{"id":"dbtS","dependencies":[{"name":"C:\\Users\\User\\Desktop\\Other\\HomeWork\\Bootcamp\\homeworks\\08-functional-reactive-programming\\node_modules\\rxjs\\dist\\esm5\\internal\\ReplaySubject.js.map","includedInParent":true,"mtime":1621859693337},{"name":"C:\\Users\\User\\Desktop\\Other\\HomeWork\\Bootcamp\\homeworks\\08-functional-reactive-programming\\node_modules\\rxjs\\src\\internal\\ReplaySubject.ts","includedInParent":true,"mtime":1621859693337},{"name":"C:\\Users\\User\\Desktop\\Other\\HomeWork\\Bootcamp\\homeworks\\08-functional-reactive-programming\\package.json","includedInParent":true,"mtime":1621953013143},{"name":"C:\\Users\\User\\Desktop\\Other\\HomeWork\\Bootcamp\\homeworks\\08-functional-reactive-programming\\node_modules\\rxjs\\package.json","includedInParent":true,"mtime":1621859693337},{"name":"tslib","loc":{"line":1,"column":26},"parent":"C:\\Users\\User\\Desktop\\Other\\HomeWork\\Bootcamp\\homeworks\\08-functional-reactive-programming\\node_modules\\rxjs\\dist\\esm5\\internal\\ReplaySubject.js","resolved":"C:\\Users\\User\\Desktop\\Other\\HomeWork\\Bootcamp\\homeworks\\08-functional-reactive-programming\\node_modules\\tslib\\tslib.es6.js"},{"name":"./Subject","loc":{"line":2,"column":24},"parent":"C:\\Users\\User\\Desktop\\Other\\HomeWork\\Bootcamp\\homeworks\\08-functional-reactive-programming\\node_modules\\rxjs\\dist\\esm5\\internal\\ReplaySubject.js","resolved":"C:\\Users\\User\\Desktop\\Other\\HomeWork\\Bootcamp\\homeworks\\08-functional-reactive-programming\\node_modules\\rxjs\\dist\\esm5\\internal\\Subject.js"},{"name":"./scheduler/dateTimestampProvider","loc":{"line":3,"column":38},"parent":"C:\\Users\\User\\Desktop\\Other\\HomeWork\\Bootcamp\\homeworks\\08-functional-reactive-programming\\node_modules\\rxjs\\dist\\esm5\\internal\\ReplaySubject.js","resolved":"C:\\Users\\User\\Desktop\\Other\\HomeWork\\Bootcamp\\homeworks\\08-functional-reactive-programming\\node_modules\\rxjs\\dist\\esm5\\internal\\scheduler\\dateTimestampProvider.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ReplaySubject=void 0;var e=require(\"tslib\"),i=require(\"./Subject\"),t=require(\"./scheduler/dateTimestampProvider\"),r=function(i){function r(e,r,n){void 0===e&&(e=1/0),void 0===r&&(r=1/0),void 0===n&&(n=t.dateTimestampProvider);var o=i.call(this)||this;return o._bufferSize=e,o._windowTime=r,o._timestampProvider=n,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,r),o}return(0,e.__extends)(r,i),r.prototype.next=function(e){var t=this,r=t.isStopped,n=t._buffer,o=t._infiniteTimeWindow,s=t._timestampProvider,f=t._windowTime;r||(n.push(e),!o&&n.push(s.now()+f)),this._trimBuffer(),i.prototype.next.call(this,e)},r.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var i=this._innerSubscribe(e),t=this._infiniteTimeWindow,r=this._buffer.slice(),n=0;n<r.length&&!e.closed;n+=t?1:2)e.next(r[n]);return this._checkFinalizedStatuses(e),i},r.prototype._trimBuffer=function(){var e=this._bufferSize,i=this._timestampProvider,t=this._buffer,r=this._infiniteTimeWindow,n=(r?1:2)*e;if(e<1/0&&n<t.length&&t.splice(0,t.length-n),!r){for(var o=i.now(),s=0,f=1;f<t.length&&t[f]<=o;f+=2)s=f;s&&t.splice(0,s+1)}},r}(i.Subject);exports.ReplaySubject=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":95}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":97}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":101}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":103}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":111}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":120}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":122}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":130}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":143}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":145}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":153}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":190}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":192}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":201}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":204}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":213}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":215}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":217}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":219}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":227}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":231}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":235}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":237}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":239}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":247}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":251}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":255}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":257}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":259}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":267}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":271}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":275}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":277}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":279}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":302}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":306}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":308}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":310}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":315}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":52,"column":11},"generated":{"line":1,"column":322}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":327}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":334}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":336}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":348}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":350}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":352}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":364}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":366}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":368}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":387}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":389}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":391}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":38,"column":36},"generated":{"line":1,"column":399}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":402}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":404}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":39,"column":32},"generated":{"line":1,"column":425}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":427}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":429}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":53,"column":31},"generated":{"line":1,"column":449}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":53,"column":47},"generated":{"line":1,"column":453}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":53,"column":47},"generated":{"line":1,"column":455}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":457}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":54,"column":9},"generated":{"line":1,"column":459}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":54,"column":23},"generated":{"line":1,"column":471}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":54,"column":28},"generated":{"line":1,"column":476}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":54,"column":32},"generated":{"line":1,"column":480}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":54,"column":35},"generated":{"line":1,"column":482}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":485}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":487}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":55,"column":23},"generated":{"line":1,"column":499}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":55,"column":28},"generated":{"line":1,"column":504}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":55,"column":32},"generated":{"line":1,"column":508}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":55,"column":35},"generated":{"line":1,"column":510}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":513}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":110,"column":0},"generated":{"line":1,"column":515}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":38},"generated":{"line":1,"column":522}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":38},"generated":{"line":1,"column":524}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":38},"generated":{"line":1,"column":526}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":38},"generated":{"line":1,"column":537}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":38},"generated":{"line":1,"column":539}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":542}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":544}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":554}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":559}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":58,"column":7},"generated":{"line":1,"column":568}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":10},"generated":{"line":1,"column":571}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":10},"generated":{"line":1,"column":575}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":89},"generated":{"line":1,"column":577}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":1,"column":582}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":21},"generated":{"line":1,"column":584}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":21},"generated":{"line":1,"column":586}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":23},"generated":{"line":1,"column":596}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":30},"generated":{"line":1,"column":598}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":30},"generated":{"line":1,"column":600}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":32},"generated":{"line":1,"column":608}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":51},"generated":{"line":1,"column":610}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":51},"generated":{"line":1,"column":612}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":53},"generated":{"line":1,"column":632}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":71},"generated":{"line":1,"column":634}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":71},"generated":{"line":1,"column":636}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":73},"generated":{"line":1,"column":655}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":84},"generated":{"line":1,"column":657}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":59,"column":84},"generated":{"line":1,"column":659}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":60,"column":9},"generated":{"line":1,"column":671}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":61,"column":6},"generated":{"line":1,"column":675}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":61,"column":14},"generated":{"line":1,"column":677}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":61,"column":19},"generated":{"line":1,"column":682}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":62,"column":7},"generated":{"line":1,"column":686}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":62,"column":30},"generated":{"line":1,"column":689}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":62,"column":38},"generated":{"line":1,"column":691}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":62,"column":43},"generated":{"line":1,"column":696}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":62,"column":62},"generated":{"line":1,"column":698}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":62,"column":70},"generated":{"line":1,"column":704}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":64,"column":9},"generated":{"line":1,"column":708}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":64,"column":9},"generated":{"line":1,"column":713}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":1,"column":727}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":1,"column":729}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":739}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":1,"column":744}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":1,"column":749}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":65,"column":15},"generated":{"line":1,"column":754}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":69,"column":12},"generated":{"line":1,"column":758}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":69,"column":12},"generated":{"line":1,"column":760}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":69,"column":12},"generated":{"line":1,"column":770}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":69,"column":2},"generated":{"line":1,"column":781}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":69,"column":23},"generated":{"line":1,"column":790}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":793}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":798}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":815}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":820}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":9},"generated":{"line":1,"column":834}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":73,"column":10},"generated":{"line":1,"column":838}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":73,"column":10},"generated":{"line":1,"column":842}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":73,"column":25},"generated":{"line":1,"column":844}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":73,"column":30},"generated":{"line":1,"column":849}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":73,"column":46},"generated":{"line":1,"column":865}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":75,"column":12},"generated":{"line":1,"column":868}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":75,"column":45},"generated":{"line":1,"column":870}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":75,"column":31},"generated":{"line":1,"column":875}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":78,"column":10},"generated":{"line":1,"column":895}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":75,"column":45},"generated":{"line":1,"column":897}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":75,"column":40},"generated":{"line":1,"column":902}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":78,"column":25},"generated":{"line":1,"column":910}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":13},"generated":{"line":1,"column":918}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":17},"generated":{"line":1,"column":920}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":20},"generated":{"line":1,"column":922}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":24},"generated":{"line":1,"column":924}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":29},"generated":{"line":1,"column":926}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":40},"generated":{"line":1,"column":935}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":51},"generated":{"line":1,"column":937}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":59},"generated":{"line":1,"column":944}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":64},"generated":{"line":1,"column":947}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":86},"generated":{"line":1,"column":949}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":79,"column":90},"generated":{"line":1,"column":951}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":953}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":80,"column":17},"generated":{"line":1,"column":955}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":80,"column":22},"generated":{"line":1,"column":960}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":80,"column":27},"generated":{"line":1,"column":962}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":85,"column":11},"generated":{"line":1,"column":966}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":83,"column":9},"generated":{"line":1,"column":973}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":83,"column":9},"generated":{"line":1,"column":978}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":83,"column":33},"generated":{"line":1,"column":1002}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":85,"column":11},"generated":{"line":1,"column":1005}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":88,"column":10},"generated":{"line":1,"column":1008}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":88,"column":10},"generated":{"line":1,"column":1010}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":88,"column":10},"generated":{"line":1,"column":1020}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":1,"column":1032}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":10},"generated":{"line":1,"column":1043}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":12},"generated":{"line":1,"column":1047}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":78},"generated":{"line":1,"column":1049}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":23},"generated":{"line":1,"column":1054}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":25},"generated":{"line":1,"column":1066}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":78},"generated":{"line":1,"column":1068}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":43},"generated":{"line":1,"column":1073}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":45},"generated":{"line":1,"column":1092}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":78},"generated":{"line":1,"column":1094}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":52},"generated":{"line":1,"column":1099}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":54},"generated":{"line":1,"column":1107}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":78},"generated":{"line":1,"column":1109}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":89,"column":73},"generated":{"line":1,"column":1114}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":94,"column":10},"generated":{"line":1,"column":1134}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":94,"column":32},"generated":{"line":1,"column":1137}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":94,"column":54},"generated":{"line":1,"column":1139}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":94,"column":58},"generated":{"line":1,"column":1141}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":94,"column":63},"generated":{"line":1,"column":1144}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":99,"column":8},"generated":{"line":1,"column":1146}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":4},"generated":{"line":1,"column":1149}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":18},"generated":{"line":1,"column":1151}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":18},"generated":{"line":1,"column":1153}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":30},"generated":{"line":1,"column":1156}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":51},"generated":{"line":1,"column":1158}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":59},"generated":{"line":1,"column":1160}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":69},"generated":{"line":1,"column":1168}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":77},"generated":{"line":1,"column":1170}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":84},"generated":{"line":1,"column":1177}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":87},"generated":{"line":1,"column":1179}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":95},"generated":{"line":1,"column":1181}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":95,"column":104},"generated":{"line":1,"column":1188}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":99,"column":9},"generated":{"line":1,"column":1192}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":99,"column":30},"generated":{"line":1,"column":1194}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":104,"column":11},"generated":{"line":1,"column":1195}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":100,"column":12},"generated":{"line":1,"column":1199}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":100,"column":12},"generated":{"line":1,"column":1203}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":100,"column":18},"generated":{"line":1,"column":1205}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":100,"column":37},"generated":{"line":1,"column":1207}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":101,"column":10},"generated":{"line":1,"column":1213}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":101,"column":17},"generated":{"line":1,"column":1215}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":104,"column":15},"generated":{"line":1,"column":1217}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":1,"column":1219}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":104,"column":22},"generated":{"line":1,"column":1221}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":104,"column":26},"generated":{"line":1,"column":1223}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":104,"column":34},"generated":{"line":1,"column":1225}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":104,"column":45},"generated":{"line":1,"column":1233}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":104,"column":53},"generated":{"line":1,"column":1235}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":104,"column":70},"generated":{"line":1,"column":1239}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":104,"column":75},"generated":{"line":1,"column":1241}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":104,"column":80},"generated":{"line":1,"column":1244}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":105,"column":8},"generated":{"line":1,"column":1246}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":105,"column":15},"generated":{"line":1,"column":1248}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":107,"column":6},"generated":{"line":1,"column":1250}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":107,"column":14},"generated":{"line":1,"column":1253}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":107,"column":22},"generated":{"line":1,"column":1255}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":107,"column":29},"generated":{"line":1,"column":1262}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":107,"column":32},"generated":{"line":1,"column":1264}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":107,"column":39},"generated":{"line":1,"column":1266}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":110,"column":0},"generated":{"line":1,"column":1271}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":1273}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":38},"generated":{"line":1,"column":1274}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":1276}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":1285}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":1293}},{"source":"../../../src/internal/ReplaySubject.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":1307}}],"sources":{"../../../src/internal/ReplaySubject.ts":"import { Subject } from './Subject';\nimport { TimestampProvider } from './types';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { dateTimestampProvider } from './scheduler/dateTimestampProvider';\n\n/**\n * A variant of {@link Subject} that \"replays\" old values to new subscribers by emitting them when they first subscribe.\n *\n * `ReplaySubject` has an internal buffer that will store a specified number of values that it has observed. Like `Subject`,\n * `ReplaySubject` \"observes\" values by having them passed to its `next` method. When it observes a value, it will store that\n * value for a time determined by the configuration of the `ReplaySubject`, as passed to its constructor.\n *\n * When a new subscriber subscribes to the `ReplaySubject` instance, it will synchronously emit all values in its buffer in\n * a First-In-First-Out (FIFO) manner. The `ReplaySubject` will also complete, if it has observed completion; and it will\n * error if it has observed an error.\n *\n * There are two main configuration items to be concerned with:\n *\n * 1. `bufferSize` - This will determine how many items are stored in the buffer, defaults to infinite.\n * 2. `windowTime` - The amount of time to hold a value in the buffer before removing it from the buffer.\n *\n * Both configurations may exist simultaneously. So if you would like to buffer a maximum of 3 values, as long as the values\n * are less than 2 seconds old, you could do so with a `new ReplaySubject(3, 2000)`.\n *\n * ### Differences with BehaviorSubject\n *\n * `BehaviorSubject` is similar to `new ReplaySubject(1)`, with a couple fo exceptions:\n *\n * 1. `BehaviorSubject` comes \"primed\" with a single value upon construction.\n * 2. `ReplaySubject` will replay values, even after observing an error, where `BehaviorSubject` will not.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n * @see {@link shareReplay}\n */\nexport class ReplaySubject<T> extends Subject<T> {\n  private _buffer: (T | number)[] = [];\n  private _infiniteTimeWindow = true;\n\n  /**\n   * @param bufferSize The size of the buffer to replay on subscription\n   * @param windowTime The amount of time the buffered items will say buffered\n   * @param timestampProvider An object with a `now()` method that provides the current timestamp. This is used to\n   * calculate the amount of time something has been buffered.\n   */\n  constructor(\n    private _bufferSize = Infinity,\n    private _windowTime = Infinity,\n    private _timestampProvider: TimestampProvider = dateTimestampProvider\n  ) {\n    super();\n    this._infiniteTimeWindow = _windowTime === Infinity;\n    this._bufferSize = Math.max(1, _bufferSize);\n    this._windowTime = Math.max(1, _windowTime);\n  }\n\n  next(value: T): void {\n    const { isStopped, _buffer, _infiniteTimeWindow, _timestampProvider, _windowTime } = this;\n    if (!isStopped) {\n      _buffer.push(value);\n      !_infiniteTimeWindow && _buffer.push(_timestampProvider.now() + _windowTime);\n    }\n    this._trimBuffer();\n    super.next(value);\n  }\n\n  /** @internal */\n  protected _subscribe(subscriber: Subscriber<T>): Subscription {\n    this._throwIfClosed();\n    this._trimBuffer();\n\n    const subscription = this._innerSubscribe(subscriber);\n\n    const { _infiniteTimeWindow, _buffer } = this;\n    // We use a copy here, so reentrant code does not mutate our array while we're\n    // emitting it to a new subscriber.\n    const copy = _buffer.slice();\n    for (let i = 0; i < copy.length && !subscriber.closed; i += _infiniteTimeWindow ? 1 : 2) {\n      subscriber.next(copy[i] as T);\n    }\n\n    this._checkFinalizedStatuses(subscriber);\n\n    return subscription;\n  }\n\n  private _trimBuffer() {\n    const { _bufferSize, _timestampProvider, _buffer, _infiniteTimeWindow } = this;\n    // If we don't have an infinite buffer size, and we're over the length,\n    // use splice to truncate the old buffer values off. Note that we have to\n    // double the size for instances where we're not using an infinite time window\n    // because we're storing the values and the timestamps in the same array.\n    const adjustedBufferSize = (_infiniteTimeWindow ? 1 : 2) * _bufferSize;\n    _bufferSize < Infinity && adjustedBufferSize < _buffer.length && _buffer.splice(0, _buffer.length - adjustedBufferSize);\n\n    // Now, if we're not in an infinite time window, remove all values where the time is\n    // older than what is allowed.\n    if (!_infiniteTimeWindow) {\n      const now = _timestampProvider.now();\n      let last = 0;\n      // Search the array for the first timestamp that isn't expired and\n      // truncate the buffer up to that point.\n      for (let i = 1; i < _buffer.length && (_buffer[i] as number) <= now; i += 2) {\n        last = i;\n      }\n      last && _buffer.splice(0, last + 1);\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"46177f658a3e8af7186a61aa0e76047f","cacheData":{"env":{}}}