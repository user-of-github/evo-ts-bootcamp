(this["webpackJsonp13-life"]=this["webpackJsonp13-life"]||[]).push([[0],{18:function(e,t,i){},19:function(e,t,i){"use strict";i.r(t);var n=i(1),a=i.n(n),r=i(5),c=i.n(r),o=i(10),s=i(11),u=i(3),l=function(){function e(){Object(o.a)(this,e),this.field=new Array,this.fieldSideSize=void 0,this.renderGrid=!0,this.renderCanvasFunction=void 0,this.inProcess=!1,this.wasEvolution=!1,this.timingDelay=void 0,this.timerID=NaN,this.fieldSideSize=e.DEFAULT_FIELD_SIDE_SIZE,this.timingDelay=e.DEFAULT_LATENCY,this.makeEmptyArray(this.field),this.renderCanvasFunction=function(){},Object(u.d)(this,{},{deep:!0})}return Object(s.a)(e,[{key:"changeSize",value:function(t){t>=e.MINIMUM_SIDE_SIZE&&t<=e.MAXIMUM_SIDE_SIZE&&(this.fieldSideSize=t,this.makeEmptyArray(this.field),this.renderCanvasFunction(),this.inProcess&&this.stopEvolution())}},{key:"changeLatency",value:function(t){t>=e.MINIMAL_LATENCY&&t<=e.MAXIMUM_LATENCY&&(this.timingDelay=t)}},{key:"runEvolution",value:function(){this.inProcess=!0,this.wasEvolution=!0,this.runEvolutionRecursive()}},{key:"stopEvolution",value:function(){this.inProcess=!1,window.clearTimeout(this.timerID)}},{key:"getFieldSize",value:function(){return this.fieldSideSize}},{key:"getLatency",value:function(){return this.timingDelay}},{key:"registerRenderingFunction",value:function(e){this.renderCanvasFunction=e}},{key:"changeGridDrawingFlag",value:function(){this.renderGrid=!this.renderGrid,this.renderCanvasFunction()}},{key:"getGridDrawingFlag",value:function(){return this.renderGrid}},{key:"getWasEvolutionOrNot",value:function(){return this.wasEvolution}},{key:"getInProgressState",value:function(){return this.inProcess}},{key:"makeEmptyArray",value:function(e){e.length=0;for(var t=0;t<this.fieldSideSize;++t){for(var i=Array(this.fieldSideSize),n=0;n<this.fieldSideSize;++n)i[n]=!1;e.push(i)}}},{key:"countNumberOfNeighbours",value:function(e,t,i){for(var n=0,a=-1;a<=1;++a)for(var r=-1;r<=1;++r){var c=e+a,o=t+r;c===e&&o===t||(n+=o<this.fieldSideSize&&o>=0&&c>=0&&c<this.fieldSideSize&&i[c][o]?1:0)}return n}},{key:"nextStepOfEvolution",value:function(){var e=Array();this.makeEmptyArray(e);for(var t=0;t<this.fieldSideSize;++t)for(var i=0;i<this.fieldSideSize;++i){var n=this.countNumberOfNeighbours(t,i,this.field);if(this.field[t][i])switch(!0){case n<2:e[t][i]=!1;break;case 2===n||3===n:e[t][i]=!0;break;default:e[t][i]=!1}else e[t][i]=3===n}this.checkIfFieldChanged(e)?(this.wasEvolution=!0,this.field=e):this.wasEvolution=!1}},{key:"runEvolutionRecursive",value:function(){var e=this;this.timerID=window.setTimeout((function(){e.nextStepOfEvolution(),e.renderCanvasFunction(),e.runEvolutionRecursive()}),this.timingDelay)}},{key:"checkIfFieldChanged",value:function(e){for(var t=0;t<this.fieldSideSize;++t)for(var i=0;i<this.fieldSideSize;++i)if(e[t][i]!==this.field[t][i])return!0;return!1}}]),e}();l.DEFAULT_FIELD_SIDE_SIZE=20,l.MAXIMUM_SIDE_SIZE=40,l.MINIMUM_SIDE_SIZE=5,l.DEFAULT_LATENCY=500,l.MINIMAL_LATENCY=10,l.MAXIMUM_LATENCY=1e3;var d=i(4),h=i.n(d),f=i(0),_=function(){return Object(f.jsx)("header",{className:h.a.header,children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsxs)("div",{className:h.a.header__mainTitles,children:[Object(f.jsx)("h1",{className:h.a.header__title,children:"Canvas Life"}),Object(f.jsx)("h2",{className:h.a.header__subtitle,children:"[ Homework in Bootcamp ]"})]}),Object(f.jsx)("h2",{className:h.a.header__subsubtitle,children:"\xa9 Slutski Nikita"})]})})},v=i(6),g=i(2),b=i.n(g),p="size",j="latency",m="grid",S=Object(v.a)((function(e){return Object(f.jsxs)("div",{className:b.a.configurationContainer,children:[Object(f.jsx)("div",{className:b.a.configurationBlock,children:Object(f.jsxs)("div",{className:b.a.configurationSizes,children:[Object(f.jsxs)("div",{className:b.a.inputGroup,children:[Object(f.jsx)("label",{htmlFor:p,className:b.a.inputGroupLabel,children:"Size:"}),Object(f.jsx)("input",{min:l.MINIMUM_SIDE_SIZE,max:l.MAXIMUM_SIDE_SIZE,type:"number",id:p,defaultValue:e.data.getFieldSize(),className:b.a.inputGroupInput,onChange:function(){return function(e){var t=document.getElementById(p).value.toString().trim();""!==t&&e.changeSize(Number.parseInt(t))}(e.data)},step:1,disabled:e.data.getInProgressState()})]}),Object(f.jsxs)("div",{className:b.a.inputGroup,children:[Object(f.jsx)("label",{htmlFor:m,className:b.a.inputGroupLabel,children:"Draw Grid:"}),Object(f.jsx)("input",{min:l.MINIMUM_SIDE_SIZE,max:l.MAXIMUM_SIDE_SIZE,type:"checkbox",id:m,checked:e.data.getGridDrawingFlag(),className:b.a.inputGroupCheckbox,onChange:function(){e.data.changeGridDrawingFlag()},step:1})]})]})}),Object(f.jsx)("div",{className:b.a.configurationBlock,children:Object(f.jsx)("div",{className:b.a.configurationLatency,children:Object(f.jsxs)("div",{className:b.a.inputGroup,children:[Object(f.jsx)("label",{htmlFor:j,className:b.a.inputGroupLabel,children:"Latency:"}),Object(f.jsx)("input",{min:l.MINIMAL_LATENCY,max:l.MAXIMUM_LATENCY,defaultValue:e.data.getLatency(),type:"number",step:1,id:j,className:b.a.inputGroupInput,onChange:function(){return function(e){var t=document.getElementById(j).value.toString().trim();""!==t&&e.changeLatency(Number.parseInt(t))}(e.data)}})]})})}),Object(f.jsx)("div",{className:b.a.configurationBlock,children:Object(f.jsxs)("div",{className:b.a.configurationLatency,children:[Object(f.jsx)("button",{className:b.a.button,disabled:e.data.getInProgressState(),onClick:function(){return e.data.runEvolution()},children:"Run"}),Object(f.jsx)("button",{className:b.a.button,disabled:!e.data.getInProgressState(),onClick:function(){return e.data.stopEvolution()},children:"Stop"})]})}),Object(f.jsx)("div",{className:b.a.configurationBlock,children:Object(f.jsx)("div",{className:b.a.configurationLatency,children:Object(f.jsx)("span",{className:b.a.state,children:e.data.getInProgressState()?e.data.getWasEvolutionOrNot()?"Launched. Evolution is continuing":"Launched. Evolution has stopped":"Not launched"})})})]})})),E=i(8),I=i.n(E),N=400,y="#f7f1e3",x=Object(v.a)((function(e){var t=Object(n.useRef)(null),i=Object(n.useRef)(null),a=Object(n.useRef)(null),r=function(){a.current=N/e.data.getFieldSize(),i.current.fillStyle=y,i.current.fillRect(0,0,N,N);for(var t=0;t<e.data.getFieldSize();++t)for(var n=0;n<e.data.getFieldSize();++n){var r;e.data.field[t][n]?i.current.fillStyle="#33d9b2":i.current.fillStyle=y,null===(r=i.current)||void 0===r||r.fillRect(t*a.current,n*a.current,a.current,a.current)}e.data.getGridDrawingFlag()&&function(){a.current=N/e.data.getFieldSize(),i.current.strokeStyle="rgba(0, 0, 0, 0.1)",i.current.lineWidth=.5,i.current.beginPath();for(var t=0;t<e.data.getFieldSize();++t)i.current.moveTo(t*a.current,0),i.current.lineTo(t*a.current,N);for(var n=0;n<e.data.getFieldSize();++n)i.current.moveTo(0,n*a.current),i.current.lineTo(N,n*a.current);i.current.closePath(),i.current.stroke()}()};return Object(n.useEffect)((function(){var n=t.current;n.width=n.height=N,n.style.width=n.style.height="".concat(N,"px"),i.current=n.getContext("2d"),e.data.registerRenderingFunction(r),r()}),[]),Object(f.jsx)("div",{className:I.a.canvasContainer,children:Object(f.jsx)("canvas",{ref:t,className:I.a.canvas,onClick:function(i){!function(e,t,i,n){var a=t.getBoundingClientRect(),r=e.clientX-a.left,c=e.clientY-a.top,o=Math.floor(r/i),s=Math.floor(c/i);n.field[o][s]=!n.field[o][s]}(i,t.current,a.current,e.data),r()}})})})),O=i(9),k=i.n(O),M=new l,C=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(_,{}),Object(f.jsx)("div",{className:k.a.container,children:Object(f.jsxs)("main",{className:k.a.applicationContainer,children:[Object(f.jsx)(S,{data:M}),Object(f.jsx)(x,{data:M})]})})]})};i(18);c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))},2:function(e,t,i){e.exports={configurationContainer:"configuration_configurationContainer__WBxJX",configurationBlock:"configuration_configurationBlock__1D4z5",configurationSizes:"configuration_configurationSizes__2Qu23",inputGroup:"configuration_inputGroup__1qqLo",inputGroupLabel:"configuration_inputGroupLabel__9lP4e",inputGroupInput:"configuration_inputGroupInput__3jJ0x",inputGroupCheckbox:"configuration_inputGroupCheckbox__4dyAF",configurationLatency:"configuration_configurationLatency__1NEpd",button:"configuration_button__G_oq3",state:"configuration_state__1RdzW"}},4:function(e,t,i){e.exports={header:"header_header__2Sexe",header__mainTitles:"header_header__mainTitles__15-GG",header__title:"header_header__title__v4Lvn",header__subtitle:"header_header__subtitle__6HYh_",header__subsubtitle:"header_header__subsubtitle__3RJR0"}},8:function(e,t,i){e.exports={canvasContainer:"canvas_canvasContainer__1CVog",canvas:"canvas_canvas__3mSI_"}},9:function(e,t,i){e.exports={applicationContainer:"app_applicationContainer__2F64e",container:"app_container__8gSEb"}}},[[19,1,2]]]);
//# sourceMappingURL=main.eaf7717c.chunk.js.map